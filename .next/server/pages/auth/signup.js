"use strict";(()=>{var e={};e.id=613,e.ids=[613,888,660],e.modules={1385:(e,t,r)=>{r.r(t),r.d(t,{config:()=>y,default:()=>b,getServerSideProps:()=>v,getStaticPaths:()=>S,getStaticProps:()=>f,reportWebVitals:()=>j,routeModule:()=>q,unstable_getServerProps:()=>P,unstable_getServerSideProps:()=>C,unstable_getStaticParams:()=>N,unstable_getStaticPaths:()=>w,unstable_getStaticProps:()=>_});var s={};r.r(s),r.d(s,{default:()=>SignUp});var a=r(7093),n=r(5244),l=r(1323),o=r(9209),i=r.n(o),u=r(9597),c=r(997),d=r(6689),m=r(1163),p=r(1664),x=r.n(p),h=r(5102),g=r(7016);function SignUp(){let[e,t]=(0,d.useState)(""),[r,s]=(0,d.useState)(""),[a,n]=(0,d.useState)(""),[l,o]=(0,d.useState)(""),[i,u]=(0,d.useState)(!1),[p,h]=(0,d.useState)(!1),[b,f]=(0,d.useState)(null),S=(0,m.useRouter)(),{signUp:v}=(0,g.a)(),handleSubmit=async t=>{if(t.preventDefault(),h(!0),f(null),!i){f("You must accept the Terms and Conditions"),h(!1);return}try{let{user:t,error:s}=await v(r,a,{name:e,country:l});if(s){if(s.message.toLowerCase().includes("duplicate")||s.message.toLowerCase().includes("already"))throw Error("User already exists");throw s}t&&S.push("/host/connect-stripe")}catch(e){console.error("Error signing up:",e),f(e.message||"Failed to sign up")}finally{h(!1)}};return(0,c.jsxs)("div",{className:"max-w-md mx-auto bg-white p-6 rounded-md shadow mt-10",children:[c.jsx("h2",{className:"text-2xl font-bold mb-2",children:"Create an account"}),c.jsx("p",{className:"text-sm text-gray-500 mb-4",children:"Enter your details to create your account"}),b&&c.jsx("div",{className:"bg-red-100 text-red-700 p-3 rounded mb-4",children:b}),(0,c.jsxs)("form",{onSubmit:handleSubmit,className:"space-y-4",children:[(0,c.jsxs)("div",{children:[c.jsx("label",{htmlFor:"name",className:"block text-sm font-medium text-gray-700 mb-1",children:"Full name"}),c.jsx("input",{type:"text",id:"name",value:e,onChange:e=>t(e.target.value),className:"w-full border rounded px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"John Doe",required:!0})]}),(0,c.jsxs)("div",{children:[c.jsx("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-700 mb-1",children:"Email"}),c.jsx("input",{type:"email",id:"email",value:r,onChange:e=>s(e.target.value),className:"w-full border rounded px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"m@example.com",required:!0})]}),(0,c.jsxs)("div",{children:[c.jsx("label",{htmlFor:"password",className:"block text-sm font-medium text-gray-700 mb-1",children:"Password"}),c.jsx("input",{type:"password",id:"password",value:a,onChange:e=>n(e.target.value),className:"w-full border rounded px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"********",required:!0})]}),(0,c.jsxs)("div",{children:[c.jsx("label",{htmlFor:"country",className:"block text-sm font-medium text-gray-700 mb-1",children:"Country"}),c.jsx(Object(function(){var e=Error("Cannot find module '../../components/CountrySelect'");throw e.code="MODULE_NOT_FOUND",e}()),{id:"country",value:l,onChange:e=>o(e.target.value),className:"w-full border rounded px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500",required:!0})]}),c.jsx("div",{children:(0,c.jsxs)("label",{className:"inline-flex items-center",children:[c.jsx("input",{type:"checkbox",checked:i,onChange:e=>u(e.target.checked),className:"form-checkbox text-blue-500",required:!0}),(0,c.jsxs)("span",{className:"ml-2 text-sm text-gray-700",children:["I have read and accept the ",c.jsx("a",{href:"https://youtu.be/Eye_gEqmL4s?si=w-6802B9-CxidUl7",target:"_blank",rel:"noopener noreferrer",className:"text-blue-500 hover:underline",children:"Terms and Conditions"}),"."]})]})}),c.jsx("button",{type:"submit",className:"w-full bg-black text-white py-2 rounded hover:bg-gray-800 transition font-semibold",disabled:p,children:p?"Creating account...":"Create account"})]}),(0,c.jsxs)("div",{className:"mt-4 text-center text-sm",children:["Already have an account?",c.jsx(x(),{href:"/auth/signin",children:c.jsx("span",{className:"text-blue-500 hover:underline ml-1 cursor-pointer",children:"Sign in"})})]})]})}(function(){var e=Error("Cannot find module '../../components/CountrySelect'");throw e.code="MODULE_NOT_FOUND",e})(),SignUp.getLayout=function(e){return c.jsx(h.Z,{title:"Sign Up - Guestify",children:e})};let b=(0,l.l)(s,"default"),f=(0,l.l)(s,"getStaticProps"),S=(0,l.l)(s,"getStaticPaths"),v=(0,l.l)(s,"getServerSideProps"),y=(0,l.l)(s,"config"),j=(0,l.l)(s,"reportWebVitals"),_=(0,l.l)(s,"unstable_getStaticProps"),w=(0,l.l)(s,"unstable_getStaticPaths"),N=(0,l.l)(s,"unstable_getStaticParams"),P=(0,l.l)(s,"unstable_getServerProps"),C=(0,l.l)(s,"unstable_getServerSideProps"),q=new a.PagesRouteModule({definition:{kind:n.x.PAGES,page:"/auth/signup",pathname:"/auth/signup",bundlePath:"",filename:""},components:{App:u.default,Document:i()},userland:s})},2885:e=>{e.exports=require("@supabase/supabase-js")},2785:e=>{e.exports=require("next/dist/compiled/next-server/pages.runtime.prod.js")},968:e=>{e.exports=require("next/head")},6689:e=>{e.exports=require("react")},6405:e=>{e.exports=require("react-dom")},997:e=>{e.exports=require("react/jsx-runtime")},7147:e=>{e.exports=require("fs")},1017:e=>{e.exports=require("path")},2781:e=>{e.exports=require("stream")},9796:e=>{e.exports=require("zlib")}};var t=require("../../webpack-runtime.js");t.C(e);var __webpack_exec__=e=>t(t.s=e),r=t.X(0,[761,163,209,450,664,201,675,597,102],()=>__webpack_exec__(1385));module.exports=r})();