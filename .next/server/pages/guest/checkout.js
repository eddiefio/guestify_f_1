"use strict";(()=>{var e={};e.id=380,e.ids=[380,888,660],e.modules={8602:(e,t,s)=>{s.r(t),s.d(t,{config:()=>S,default:()=>f,getServerSideProps:()=>v,getStaticPaths:()=>j,getStaticProps:()=>g,reportWebVitals:()=>P,routeModule:()=>w,unstable_getServerProps:()=>y,unstable_getServerSideProps:()=>q,unstable_getStaticParams:()=>k,unstable_getStaticPaths:()=>N,unstable_getStaticProps:()=>_});var r={};s.r(r),s.d(r,{default:()=>Checkout});var a=s(7093),i=s(5244),l=s(1323),n=s(9209),o=s.n(n),c=s(9597),d=s(997),u=s(6689),x=s(1163),p=s(1664),m=s.n(p),h=s(9488),b=s(6999);function Checkout(){let[e,t]=(0,u.useState)({orderId:"",subtotal:0,serviceFee:0,finalPrice:0}),{clearCart:s,propertyId:r}=(0,b.j)(),a=(0,x.useRouter)();return(0,u.useEffect)(()=>{let{orderId:e,subtotal:r,serviceFee:i,finalPrice:l}=a.query;e?(t({orderId:e,subtotal:parseFloat(r||0),serviceFee:parseFloat(i||0),finalPrice:parseFloat(l||0)}),s()):!a.query.orderId&&a.isReady&&a.push("/guest/cart")},[a.isReady,a.query,s,a]),(0,d.jsxs)("div",{className:"max-w-md mx-auto bg-white p-6 rounded-lg shadow-md",children:[r&&d.jsx("div",{className:"bg-white p-2 rounded-xl mb-4 inline-block",children:d.jsx(m(),{href:`/guest/menu/${r}`,children:d.jsx("span",{className:"text-sm text-[#5e2bff] font-semibold underline cursor-pointer",children:"Back to Menu"})})}),d.jsx("h2",{className:"text-xl sm:text-2xl font-bold text-gray-800 mb-4",children:"Order Complete"}),(0,d.jsxs)("div",{className:"space-y-4",children:[d.jsx("div",{className:"bg-green-50 border-l-4 border-green-400 p-4 mb-6",children:(0,d.jsxs)("div",{className:"flex",children:[d.jsx("div",{className:"flex-shrink-0",children:d.jsx("i",{className:"fas fa-check-circle text-green-400"})}),d.jsx("div",{className:"ml-3",children:d.jsx("p",{className:"text-sm text-green-700",children:"Thanks for your order on Guestify"})})]})}),(0,d.jsxs)("p",{className:"text-sm mb-1",children:["Order number: ",d.jsx("span",{className:"font-medium",children:e.orderId})]}),(0,d.jsxs)("div",{className:"border-t border-gray-200 pt-4 mt-4",children:[(0,d.jsxs)("div",{className:"flex justify-between text-sm mb-1",children:[d.jsx("span",{children:"Service Fee (15%):"}),(0,d.jsxs)("span",{children:["€",e.serviceFee.toFixed(2)]})]}),(0,d.jsxs)("div",{className:"flex justify-between font-semibold mb-1",children:[d.jsx("span",{children:"Total:"}),(0,d.jsxs)("span",{children:["€",e.finalPrice.toFixed(2)]})]})]}),d.jsx("div",{className:"mt-8",children:r?d.jsx(m(),{href:`/guest/menu/${r}`,children:d.jsx("span",{className:"bg-[#fad02f] text-black px-4 py-2 rounded-full text-sm hover:opacity-90 transition font-semibold cursor-pointer inline-block",children:"Continue Shopping"})}):d.jsx(m(),{href:"/",children:d.jsx("span",{className:"bg-[#fad02f] text-black px-4 py-2 rounded-full text-sm hover:opacity-90 transition font-semibold cursor-pointer inline-block",children:"Return Home"})})})]})]})}Checkout.getLayout=function(e){return d.jsx(h.Z,{title:"Order Complete - Guestify",children:e})};let f=(0,l.l)(r,"default"),g=(0,l.l)(r,"getStaticProps"),j=(0,l.l)(r,"getStaticPaths"),v=(0,l.l)(r,"getServerSideProps"),S=(0,l.l)(r,"config"),P=(0,l.l)(r,"reportWebVitals"),_=(0,l.l)(r,"unstable_getStaticProps"),N=(0,l.l)(r,"unstable_getStaticPaths"),k=(0,l.l)(r,"unstable_getStaticParams"),y=(0,l.l)(r,"unstable_getServerProps"),q=(0,l.l)(r,"unstable_getServerSideProps"),w=new a.PagesRouteModule({definition:{kind:i.x.PAGES,page:"/guest/checkout",pathname:"/guest/checkout",bundlePath:"",filename:""},components:{App:c.default,Document:o()},userland:r})},2885:e=>{e.exports=require("@supabase/supabase-js")},2785:e=>{e.exports=require("next/dist/compiled/next-server/pages.runtime.prod.js")},968:e=>{e.exports=require("next/head")},6689:e=>{e.exports=require("react")},6405:e=>{e.exports=require("react-dom")},997:e=>{e.exports=require("react/jsx-runtime")},7147:e=>{e.exports=require("fs")},1017:e=>{e.exports=require("path")},2781:e=>{e.exports=require("stream")},9796:e=>{e.exports=require("zlib")}};var t=require("../../webpack-runtime.js");t.C(e);var __webpack_exec__=e=>t(t.s=e),s=t.X(0,[761,163,209,450,664,201,675,597,488],()=>__webpack_exec__(8602));module.exports=s})();