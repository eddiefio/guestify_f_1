"use strict";(()=>{var e={};e.id=291,e.ids=[291,888,660],e.modules={2268:(e,t,r)=>{r.r(t),r.d(t,{config:()=>j,default:()=>y,getServerSideProps:()=>S,getStaticPaths:()=>v,getStaticProps:()=>f,reportWebVitals:()=>_,routeModule:()=>k,unstable_getServerProps:()=>w,unstable_getServerSideProps:()=>q,unstable_getStaticParams:()=>C,unstable_getStaticPaths:()=>N,unstable_getStaticProps:()=>P});var a={};r.r(a),r.d(a,{default:()=>AddProperty});var s=r(7093),n=r(5244),l=r(1323),o=r(9209),d=r.n(o),i=r(9597),u=r(997),c=r(6689),p=r(1163),m=r(1664),h=r.n(m),x=r(9430),b=r(7016),g=r(4478);function AddProperty(){let[e,t]=(0,c.useState)({rental_name:"",address:"",city:"",state:"",zip:"",country:""}),[r,a]=(0,c.useState)(!1),[s,n]=(0,c.useState)(null),l=(0,p.useRouter)(),{user:o}=(0,b.a)(),handleChange=r=>{let{name:a,value:s}=r.target;t({...e,[a]:s})},handleSubmit=async t=>{if(t.preventDefault(),!o){n("You must be logged in to add a property");return}a(!0),n(null);try{let{data:t,error:r}=await g.O.from("apartments").insert([{host_id:o.id,name:e.rental_name,address:e.address,city:e.city,state:e.state,zip:e.zip,country:e.country}]).select().single();if(r)throw r;l.push("/host/dashboard")}catch(e){console.error("Error creating property:",e),n(e.message||"Failed to create property")}finally{a(!1)}};return(0,u.jsxs)("div",{className:"max-w-md mx-auto bg-white p-6 rounded-md shadow mt-10",children:[u.jsx("h2",{className:"text-xl font-bold mb-4",children:"Add Property"}),s&&u.jsx("div",{className:"bg-red-100 text-red-700 p-3 rounded mb-4",children:s}),(0,u.jsxs)("form",{onSubmit:handleSubmit,className:"space-y-4",children:[(0,u.jsxs)("div",{children:[u.jsx("label",{htmlFor:"rental_name",className:"block text-sm font-medium text-gray-700 mb-1",children:"Rental Name"}),u.jsx("input",{type:"text",id:"rental_name",name:"rental_name",value:e.rental_name,onChange:handleChange,className:"w-full border rounded px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"Good Place",required:!0})]}),(0,u.jsxs)("div",{children:[u.jsx("label",{htmlFor:"country",className:"block text-sm font-medium text-gray-700 mb-1",children:"Select Country"}),u.jsx(Object(function(){var e=Error("Cannot find module '../../components/CountrySelect'");throw e.code="MODULE_NOT_FOUND",e}()),{id:"country",name:"country",value:e.country,onChange:handleChange,className:"w-full border rounded px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500",required:!0})]}),(0,u.jsxs)("div",{children:[u.jsx("label",{htmlFor:"address",className:"block text-sm font-medium text-gray-700 mb-1",children:"Address"}),u.jsx("input",{type:"text",id:"address",name:"address",value:e.address,onChange:handleChange,className:"w-full border rounded px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"Enter full address",required:!0})]}),(0,u.jsxs)("div",{children:[u.jsx("label",{htmlFor:"city",className:"block text-sm font-medium text-gray-700 mb-1",children:"City"}),u.jsx("input",{type:"text",id:"city",name:"city",value:e.city,onChange:handleChange,className:"w-full border rounded px-3 py-2",placeholder:"City"})]}),(0,u.jsxs)("div",{children:[u.jsx("label",{htmlFor:"state",className:"block text-sm font-medium text-gray-700 mb-1",children:"State"}),u.jsx("input",{type:"text",id:"state",name:"state",value:e.state,onChange:handleChange,className:"w-full border rounded px-3 py-2",placeholder:"State"})]}),(0,u.jsxs)("div",{children:[u.jsx("label",{htmlFor:"zip",className:"block text-sm font-medium text-gray-700 mb-1",children:"ZIP Code"}),u.jsx("input",{type:"text",id:"zip",name:"zip",value:e.zip,onChange:handleChange,className:"w-full border rounded px-3 py-2",placeholder:"90210"})]}),(0,u.jsxs)("div",{className:"flex space-x-2",children:[u.jsx(h(),{href:"/host/dashboard",children:u.jsx("span",{className:"px-4 py-2 bg-gray-300 text-gray-700 rounded hover:bg-gray-400 transition cursor-pointer",children:"Cancel"})}),u.jsx("button",{type:"submit",className:"px-4 py-2 bg-[#fad02f] text-black rounded hover:opacity-90 transition font-semibold",disabled:r,children:r?"Saving...":"Save"})]})]})]})}(function(){var e=Error("Cannot find module '../../components/CountrySelect'");throw e.code="MODULE_NOT_FOUND",e})(),AddProperty.getLayout=function(e){return u.jsx(x.Z,{title:"Add Property - Guestify",children:e})};let y=(0,l.l)(a,"default"),f=(0,l.l)(a,"getStaticProps"),v=(0,l.l)(a,"getStaticPaths"),S=(0,l.l)(a,"getServerSideProps"),j=(0,l.l)(a,"config"),_=(0,l.l)(a,"reportWebVitals"),P=(0,l.l)(a,"unstable_getStaticProps"),N=(0,l.l)(a,"unstable_getStaticPaths"),C=(0,l.l)(a,"unstable_getStaticParams"),w=(0,l.l)(a,"unstable_getServerProps"),q=(0,l.l)(a,"unstable_getServerSideProps"),k=new s.PagesRouteModule({definition:{kind:n.x.PAGES,page:"/host/add-property",pathname:"/host/add-property",bundlePath:"",filename:""},components:{App:i.default,Document:d()},userland:a})},2885:e=>{e.exports=require("@supabase/supabase-js")},2785:e=>{e.exports=require("next/dist/compiled/next-server/pages.runtime.prod.js")},968:e=>{e.exports=require("next/head")},6689:e=>{e.exports=require("react")},6405:e=>{e.exports=require("react-dom")},997:e=>{e.exports=require("react/jsx-runtime")},7147:e=>{e.exports=require("fs")},1017:e=>{e.exports=require("path")},2781:e=>{e.exports=require("stream")},9796:e=>{e.exports=require("zlib")}};var t=require("../../webpack-runtime.js");t.C(e);var __webpack_exec__=e=>t(t.s=e),r=t.X(0,[761,163,209,450,664,201,675,597,430],()=>__webpack_exec__(2268));module.exports=r})();