(()=>{var e={};e.id=703,e.ids=[703,888,660],e.modules={6756:(e,t,a)=>{"use strict";a.r(t),a.d(t,{config:()=>S,default:()=>y,getServerSideProps:()=>w,getStaticPaths:()=>v,getStaticProps:()=>j,reportWebVitals:()=>N,routeModule:()=>z,unstable_getServerProps:()=>k,unstable_getServerSideProps:()=>q,unstable_getStaticParams:()=>P,unstable_getStaticPaths:()=>I,unstable_getStaticProps:()=>C});var r={};a.r(r),a.d(r,{default:()=>b});var s=a(7093),i=a(5244),n=a(1323),o=a(2899),l=a.n(o),u=a(3414),c=a(997),d=a(6689),m=a(1163),p=a(1664),h=a.n(p),x=a(5621),g=a(4845),f=a(8316);function b(){let[e,t]=(0,d.useState)({rental_name:"",address:"",city:"",state:"",zip:"",country:""}),[a,r]=(0,d.useState)(!0),[s,i]=(0,d.useState)(!1),[n,o]=(0,d.useState)(null),l=(0,m.useRouter)(),{propertyId:u}=l.query,p=e=>{let{name:a,value:r}=e.target;t(e=>({...e,[a]:r}))},x=async t=>{t.preventDefault(),i(!0);try{let{error:t}=await f.O.from("apartments").update({name:e.rental_name,address:e.address,city:e.city,state:e.state,zip:e.zip,country:e.country}).eq("id",u);if(t)throw t;l.push("/host/dashboard")}catch(e){console.error("Error updating property:",e),o("Failed to update property"),i(!1)}};return a?c.jsx("div",{className:"text-center py-8",children:c.jsx("i",{className:"fas fa-spinner fa-spin text-2xl text-gray-500"})}):(0,c.jsxs)("div",{className:"max-w-md mx-auto bg-white p-6 rounded-md shadow mt-10",children:[c.jsx("h2",{className:"text-xl font-bold mb-4",children:"Edit Property"}),n&&c.jsx("div",{className:"bg-red-100 text-red-700 p-3 rounded mb-4",children:n}),(0,c.jsxs)("form",{onSubmit:x,className:"space-y-4",children:[(0,c.jsxs)("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Rental Name"}),c.jsx("input",{type:"text",name:"rental_name",value:e.rental_name,onChange:p,className:"w-full border rounded px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500",required:!0})]}),(0,c.jsxs)("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Address"}),c.jsx("input",{type:"text",name:"address",value:e.address,onChange:p,className:"w-full border rounded px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500",required:!0})]}),(0,c.jsxs)("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"City"}),c.jsx("input",{type:"text",name:"city",value:e.city,onChange:p,className:"w-full border rounded px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),(0,c.jsxs)("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"State"}),c.jsx("input",{type:"text",name:"state",value:e.state,onChange:p,className:"w-full border rounded px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),(0,c.jsxs)("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"ZIP Code"}),c.jsx("input",{type:"text",name:"zip",value:e.zip,onChange:p,className:"w-full border rounded px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),(0,c.jsxs)("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Country"}),c.jsx(g.O,{id:"country",name:"country",value:e.country,onChange:p,className:"w-full border rounded px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500",required:!0})]}),(0,c.jsxs)("div",{className:"flex space-x-4",children:[c.jsx(h(),{href:"/host/dashboard",children:c.jsx("span",{className:"px-4 py-2 bg-gray-300 text-gray-700 rounded hover:bg-gray-400 transition cursor-pointer",children:"Cancel"})}),c.jsx("button",{type:"submit",disabled:s,className:"px-4 py-2 bg-[#fad02f] text-black rounded hover:opacity-90 transition font-semibold",children:s?"Saving...":"Save Changes"})]})]})]})}b.getLayout=function(e){return c.jsx(x.Z,{title:"Edit Property - Guestify",children:e})};let y=(0,n.l)(r,"default"),j=(0,n.l)(r,"getStaticProps"),v=(0,n.l)(r,"getStaticPaths"),w=(0,n.l)(r,"getServerSideProps"),S=(0,n.l)(r,"config"),N=(0,n.l)(r,"reportWebVitals"),C=(0,n.l)(r,"unstable_getStaticProps"),I=(0,n.l)(r,"unstable_getStaticPaths"),P=(0,n.l)(r,"unstable_getStaticParams"),k=(0,n.l)(r,"unstable_getServerProps"),q=(0,n.l)(r,"unstable_getServerSideProps"),z=new s.PagesRouteModule({definition:{kind:i.x.PAGES,page:"/host/edit-property/[propertyId]",pathname:"/host/edit-property/[propertyId]",bundlePath:"",filename:""},components:{App:u.default,Document:l()},userland:r})},4845:(e,t,a)=>{"use strict";a.d(t,{O:()=>i});var r=a(997);a(6689);let s=["Afghanistan","Albania","Algeria","Andorra","Angola","Argentina","Armenia","Australia","Austria","Azerbaijan","Bahamas","Bahrain","Bangladesh","Belarus","Belgium","Belize","Benin","Bhutan","Bolivia","Bosnia and Herzegovina","Botswana","Brazil","Brunei","Bulgaria","Burkina Faso","Burundi","Cambodia","Cameroon","Canada","Cape Verde","Central African Republic","Chad","Chile","China","Colombia","Comoros","Costa Rica","Croatia","Cuba","Cyprus","Czech Republic","Democratic Republic of the Congo","Denmark","Djibouti","Dominica","Dominican Republic","Ecuador","Egypt","El Salvador","Equatorial Guinea","Eritrea","Estonia","Eswatini","Ethiopia","Finland","France","Gabon","Gambia","Georgia","Germany","Ghana","Greece","Guatemala","Guinea","Haiti","Honduras","Hungary","Iceland","India","Indonesia","Iran","Iraq","Ireland","Israel","Italy","Ivory Coast","Jamaica","Japan","Jordan","Kazakhstan","Kenya","Kosovo","Kuwait","Kyrgyzstan","Laos","Latvia","Lebanon","Lesotho","Liberia","Libya","Liechtenstein","Lithuania","Luxembourg","Madagascar","Malawi","Malaysia","Maldives","Mali","Malta","Mauritania","Mauritius","Mexico","Moldova","Monaco","Mongolia","Montenegro","Morocco","Mozambique","Myanmar","Namibia","Nepal","Netherlands","New Zealand","Nicaragua","Niger","Nigeria","North Korea","North Macedonia","Norway","Oman","Pakistan","Panama","Papua New Guinea","Paraguay","Peru","Philippines","Poland","Portugal","Qatar","Republic of the Congo","Romania","Russia","Rwanda","Saudi Arabia","Senegal","Serbia","Sierra Leone","Singapore","Slovakia","Slovenia","Somalia","South Africa","South Korea","South Sudan","Spain","Sri Lanka","Sudan","Suriname","Sweden","Switzerland","Syria","Taiwan","Tajikistan","Tanzania","Thailand","Timor-Leste","Togo","Trinidad and Tobago","Tunisia","Turkey","Turkmenistan","Uganda","Ukraine","United Arab Emirates","United Kingdom","United States","Uruguay","Uzbekistan","Vatican City","Venezuela","Vietnam","Yemen","Zambia","Zimbabwe"];function i({value:e,onChange:t,id:a,className:i,required:n}){return(0,r.jsxs)("select",{id:a,value:e,onChange:t,className:i,required:n,children:[r.jsx("option",{value:"",children:"Select country..."}),s.map(e=>r.jsx("option",{value:e,children:e},e))]})}},5621:(e,t,a)=>{"use strict";a.d(t,{Z:()=>d});var r=a(997),s=a(968),i=a.n(s),n=a(1664),o=a.n(n),l=a(5675),u=a.n(l);a(1163);var c=a(8473);function d({children:e,title:t="Guestify"}){let{user:a,signOut:s}=(0,c.a)();return(0,r.jsxs)("div",{className:"flex flex-col min-h-screen bg-gray-50 text-gray-800",children:[(0,r.jsxs)(i(),{children:[r.jsx("title",{children:t}),r.jsx("meta",{name:"description",content:"Guestify - Food service for Airbnb hosts"}),r.jsx("link",{rel:"icon",href:"/favicon.ico"})]}),r.jsx("header",{className:"bg-[#5e2bff] p-4 shadow-md rounded-b-xl",children:(0,r.jsxs)("div",{className:"max-w-6xl mx-auto flex justify-between items-center",children:[r.jsx("div",{className:"flex items-center",children:a?r.jsx(o(),{href:"/host/dashboard",children:r.jsx("span",{className:"cursor-pointer",children:r.jsx(u(),{src:"/images/guestify_logo.png",alt:"Guestify",width:40,height:40,className:"h-10 w-auto"})})}):r.jsx("span",{children:r.jsx(u(),{src:"/images/guestify_logo.png",alt:"Guestify",width:40,height:40,className:"h-10 w-auto"})})}),r.jsx("nav",{className:"flex items-center",children:a?(0,r.jsxs)(r.Fragment,{children:[r.jsx(o(),{href:"/host/dashboard",children:r.jsx("span",{className:"mx-1 sm:mx-2 text-white font-semibold hover:opacity-80 transition-colors text-sm sm:text-base cursor-pointer",children:"Dashboard"})}),r.jsx("button",{onClick:s,className:"mx-1 sm:mx-2 text-white hover:opacity-80 transition-colors text-sm sm:text-base bg-transparent border-none cursor-pointer",children:"Logout"}),r.jsx(o(),{href:"/host/profile",children:r.jsx("span",{className:"ml-2 cursor-pointer",children:r.jsx("div",{className:"h-8 w-8 rounded-full bg-white text-[#5e2bff] flex items-center justify-center",children:r.jsx("i",{className:"fas fa-smile"})})})})]}):(0,r.jsxs)(r.Fragment,{children:[r.jsx(o(),{href:"/auth/signin",children:r.jsx("span",{className:"mx-1 sm:mx-2 text-white hover:opacity-80 transition-colors text-sm sm:text-base cursor-pointer",children:"Login"})}),r.jsx(o(),{href:"/auth/signup",children:r.jsx("span",{className:"mx-1 sm:mx-2 text-white hover:opacity-80 transition-colors text-sm sm:text-base cursor-pointer",children:"Signup"})})]})})]})}),r.jsx("main",{className:"max-w-6xl mx-auto my-4 p-2 sm:p-4 rounded-xl flex-grow w-full",children:e}),r.jsx("footer",{className:"bg-[#5e2bff] p-4 rounded-t-xl",children:r.jsx("div",{className:"max-w-6xl mx-auto text-center text-white text-sm",children:(0,r.jsxs)("p",{children:["\xa9 ",new Date().getFullYear()," Guestify"]})})})]})}},8473:(e,t,a)=>{"use strict";a.d(t,{H:()=>l,a:()=>u});var r=a(997),s=a(6689),i=a(1163),n=a(8316);let o=(0,s.createContext)();function l({children:e}){let[t,a]=(0,s.useState)(null),[l,u]=(0,s.useState)(null),[c,d]=(0,s.useState)(!0),m=(0,i.useRouter)(),p=async(e,t)=>{try{let{data:a,error:r}=await n.O.auth.signInWithPassword({email:e,password:t});if(r)throw r;return{user:a.user,error:null}}catch(e){return{user:null,error:e}}},h=async(e,t,a)=>{try{let{data:r,error:s}=await n.O.auth.signUp({email:e,password:t,options:{data:a}});if(s)throw s;return r.user&&await n.O.from("profiles").insert([{id:r.user.id,...a}]),{user:r.user,error:null}}catch(e){return{user:null,error:e}}},x=async()=>{await n.O.auth.signOut(),m.push("/auth/signin")},g=async e=>{try{let{data:t,error:a}=await n.O.auth.resetPasswordForEmail(e,{redirectTo:`${window.location.origin}/auth/reset-password`});if(a)throw a;return{data:t,error:null}}catch(e){return{data:null,error:e}}},f=async e=>{try{let{data:t,error:a}=await n.O.auth.updateUser({password:e});if(a)throw a;return{user:t.user,error:null}}catch(e){return{user:null,error:e}}},b=async e=>{try{let{data:a,error:r}=await n.O.from("profiles").update(e).eq("id",t.id);if(r)throw r;return u({...l,...e}),{profile:a,error:null}}catch(e){return{profile:null,error:e}}};return r.jsx(o.Provider,{value:{user:t,profile:l,loading:c,signIn:p,signUp:h,signOut:x,resetPassword:g,updatePassword:f,updateProfile:b},children:e})}let u=()=>(0,s.useContext)(o)},5026:(e,t,a)=>{"use strict";a.d(t,{Z:()=>n,j:()=>o});var r=a(997),s=a(6689);let i=(0,s.createContext)();function n({children:e}){let[t,a]=(0,s.useState)([]),[n,o]=(0,s.useState)(null);return r.jsx(i.Provider,{value:{cart:t,propertyId:n,setPropertyId:o,addToCart:e=>{let r=t.findIndex(t=>t.productId===e.productId&&t.propertyId===e.propertyId);if(r>=0){let s=[...t];s[r].quantity+=e.quantity,a(s)}else a([...t,e]);n||o(e.propertyId)},updateCartItem:(e,r,s)=>{a(t.map(t=>t.productId===e&&t.propertyId===r?{...t,quantity:s}:t))},removeFromCart:(e,r)=>{a(t.filter(t=>!(t.productId===e&&t.propertyId===r)))},clearCart:()=>{a([])},getCartTotal:()=>t.reduce((e,t)=>e+t.price*t.quantity,0),getCartCount:()=>t.reduce((e,t)=>e+t.quantity,0)},children:e})}let o=()=>(0,s.useContext)(i)},8316:(e,t,a)=>{"use strict";a.d(t,{O:()=>n});let r=require("@supabase/supabase-js"),s=process.env.NEXT_PUBLIC_SUPABASE_URL||"https://ndiqnzxplopcbcxzondp.supabase.co",i=process.env.NEXT_PUBLIC_SUPABASE_ANON_KEY||"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6Im5kaXFuenhwbG9wY2JjeHpvbmRwIiwicm9sZSI6ImFub24iLCJpYXQiOjE3Mzk1NDkxODQsImV4cCI6MjA1NTEyNTE4NH0.jCnn7TFfGV1EpBHhO1ITa8PMytD7UJfADpuzrzZOgpw";i||console.warn("Missing Supabase key");let n=(0,r.createClient)(s,i)},3414:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>l});var r=a(997),s=a(968),i=a.n(s),n=a(8473),o=a(5026);a(9605);let l=function({Component:e,pageProps:t}){let a=e.getLayout||(e=>e);return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)(i(),{children:[r.jsx("meta",{name:"viewport",content:"width=device-width, initial-scale=1"}),r.jsx("link",{href:"https://fonts.googleapis.com/css2?family=Poppins:wght@400;600&display=swap",rel:"stylesheet"}),r.jsx("link",{rel:"stylesheet",href:"https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css"})]}),r.jsx(n.H,{children:r.jsx(o.Z,{children:a(r.jsx(e,{...t}))})})]})}},9605:()=>{},2785:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/pages.runtime.prod.js")},968:e=>{"use strict";e.exports=require("next/head")},6689:e=>{"use strict";e.exports=require("react")},6405:e=>{"use strict";e.exports=require("react-dom")},997:e=>{"use strict";e.exports=require("react/jsx-runtime")},2048:e=>{"use strict";e.exports=require("fs")},5315:e=>{"use strict";e.exports=require("path")},6162:e=>{"use strict";e.exports=require("stream")},1568:e=>{"use strict";e.exports=require("zlib")}};var t=require("../../../webpack-runtime.js");t.C(e);var a=e=>t(t.s=e),r=t.X(0,[429,163,301,637],()=>a(6756));module.exports=r})();