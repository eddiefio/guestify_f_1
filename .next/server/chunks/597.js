exports.id=597,exports.ids=[597],exports.modules={7016:(e,t,r)=>{"use strict";r.d(t,{H:()=>AuthProvider,a:()=>useAuth});var s=r(997),a=r(6689),i=r(1163),u=r(4478);let n=(0,a.createContext)();function AuthProvider({children:e}){let[t,r]=(0,a.useState)(null),[l,o]=(0,a.useState)(null),[d,c]=(0,a.useState)(!0),p=(0,i.useRouter)();(0,a.useEffect)(()=>{let{data:{subscription:e}}=u.O.auth.onAuthStateChange(async(e,t)=>{if(t?.user){r(t.user);let{data:e}=await u.O.from("profiles").select("*").eq("id",t.user.id).single();o(e||null)}else r(null),o(null);c(!1)}),initializeAuth=async()=>{let{data:{session:e}}=await u.O.auth.getSession();if(e?.user){r(e.user);let{data:t}=await u.O.from("profiles").select("*").eq("id",e.user.id).single();o(t||null)}c(!1)};return initializeAuth(),()=>{e?.unsubscribe()}},[]);let signIn=async(e,t)=>{try{let{data:r,error:s}=await u.O.auth.signInWithPassword({email:e,password:t});if(s)throw s;return{user:r.user,error:null}}catch(e){return{user:null,error:e}}},signUp=async(e,t,r)=>{try{let{data:s,error:a}=await u.O.auth.signUp({email:e,password:t,options:{data:r}});if(a)throw a;return s.user&&await u.O.from("profiles").insert([{id:s.user.id,...r}]),{user:s.user,error:null}}catch(e){return{user:null,error:e}}},signOut=async()=>{await u.O.auth.signOut(),p.push("/auth/signin")},resetPassword=async e=>{try{let{data:t,error:r}=await u.O.auth.resetPasswordForEmail(e,{redirectTo:`${window.location.origin}/auth/reset-password`});if(r)throw r;return{data:t,error:null}}catch(e){return{data:null,error:e}}},updatePassword=async e=>{try{let{data:t,error:r}=await u.O.auth.updateUser({password:e});if(r)throw r;return{user:t.user,error:null}}catch(e){return{user:null,error:e}}},updateProfile=async e=>{try{let{data:r,error:s}=await u.O.from("profiles").update(e).eq("id",t.id);if(s)throw s;return o({...l,...e}),{profile:r,error:null}}catch(e){return{profile:null,error:e}}};return s.jsx(n.Provider,{value:{user:t,profile:l,loading:d,signIn,signUp,signOut,resetPassword,updatePassword,updateProfile},children:e})}let useAuth=()=>(0,a.useContext)(n)},6999:(e,t,r)=>{"use strict";r.d(t,{Z:()=>CartProvider,j:()=>useCart});var s=r(997),a=r(6689);let i=(0,a.createContext)();function CartProvider({children:e}){let[t,r]=(0,a.useState)([]),[u,n]=(0,a.useState)(null);return(0,a.useEffect)(()=>{},[]),(0,a.useEffect)(()=>{},[t]),(0,a.useEffect)(()=>{},[u]),s.jsx(i.Provider,{value:{cart:t,propertyId:u,setPropertyId:n,addToCart:e=>{let s=t.findIndex(t=>t.productId===e.productId&&t.propertyId===e.propertyId);if(s>=0){let a=[...t];a[s].quantity+=e.quantity,r(a)}else r([...t,e]);u||n(e.propertyId)},updateCartItem:(e,s,a)=>{let i=t.map(t=>t.productId===e&&t.propertyId===s?{...t,quantity:a}:t);r(i)},removeFromCart:(e,s)=>{let a=t.filter(t=>!(t.productId===e&&t.propertyId===s));r(a)},clearCart:()=>{r([])},getCartTotal:()=>t.reduce((e,t)=>e+t.price*t.quantity,0),getCartCount:()=>t.reduce((e,t)=>e+t.quantity,0)},children:e})}let useCart=()=>(0,a.useContext)(i)},4478:(e,t,r)=>{"use strict";r.d(t,{O:()=>u});var s=r(2885);let a=process.env.NEXT_PUBLIC_SUPABASE_URL||"https://ndiqnzxplopcbcxzondp.supabase.co",i=process.env.NEXT_PUBLIC_SUPABASE_ANON_KEY||"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6Im5kaXFuenhwbG9wY2JjeHpvbmRwIiwicm9sZSI6ImFub24iLCJpYXQiOjE3Mzk1NDkxODQsImV4cCI6MjA1NTEyNTE4NH0.jCnn7TFfGV1EpBHhO1ITa8PMytD7UJfADpuzrzZOgpw";i||console.warn("Missing Supabase key");let u=(0,s.createClient)(a,i)},9597:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>__WEBPACK_DEFAULT_EXPORT__});var s=r(997),a=r(968),i=r.n(a),u=r(7016),n=r(6999);r(9605);let __WEBPACK_DEFAULT_EXPORT__=function({Component:e,pageProps:t}){let r=e.getLayout||(e=>e);return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsxs)(i(),{children:[s.jsx("meta",{name:"viewport",content:"width=device-width, initial-scale=1"}),s.jsx("link",{href:"https://fonts.googleapis.com/css2?family=Poppins:wght@400;600&display=swap",rel:"stylesheet"}),s.jsx("link",{rel:"stylesheet",href:"https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css"})]}),s.jsx(u.H,{children:s.jsx(n.Z,{children:r(s.jsx(e,{...t}))})})]})}},9605:()=>{}};