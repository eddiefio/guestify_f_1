(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[703],{8983:function(e,a,t){(window.__NEXT_P=window.__NEXT_P||[]).push(["/host/edit-property/[propertyId]",function(){return t(9759)}])},4783:function(e,a,t){"use strict";t.d(a,{O:function(){return CountrySelect}});var n=t(5893);t(7294);let r=["Afghanistan","Albania","Algeria","Andorra","Angola","Argentina","Armenia","Australia","Austria","Azerbaijan","Bahamas","Bahrain","Bangladesh","Belarus","Belgium","Belize","Benin","Bhutan","Bolivia","Bosnia and Herzegovina","Botswana","Brazil","Brunei","Bulgaria","Burkina Faso","Burundi","Cambodia","Cameroon","Canada","Cape Verde","Central African Republic","Chad","Chile","China","Colombia","Comoros","Costa Rica","Croatia","Cuba","Cyprus","Czech Republic","Democratic Republic of the Congo","Denmark","Djibouti","Dominica","Dominican Republic","Ecuador","Egypt","El Salvador","Equatorial Guinea","Eritrea","Estonia","Eswatini","Ethiopia","Finland","France","Gabon","Gambia","Georgia","Germany","Ghana","Greece","Guatemala","Guinea","Haiti","Honduras","Hungary","Iceland","India","Indonesia","Iran","Iraq","Ireland","Israel","Italy","Ivory Coast","Jamaica","Japan","Jordan","Kazakhstan","Kenya","Kosovo","Kuwait","Kyrgyzstan","Laos","Latvia","Lebanon","Lesotho","Liberia","Libya","Liechtenstein","Lithuania","Luxembourg","Madagascar","Malawi","Malaysia","Maldives","Mali","Malta","Mauritania","Mauritius","Mexico","Moldova","Monaco","Mongolia","Montenegro","Morocco","Mozambique","Myanmar","Namibia","Nepal","Netherlands","New Zealand","Nicaragua","Niger","Nigeria","North Korea","North Macedonia","Norway","Oman","Pakistan","Panama","Papua New Guinea","Paraguay","Peru","Philippines","Poland","Portugal","Qatar","Republic of the Congo","Romania","Russia","Rwanda","Saudi Arabia","Senegal","Serbia","Sierra Leone","Singapore","Slovakia","Slovenia","Somalia","South Africa","South Korea","South Sudan","Spain","Sri Lanka","Sudan","Suriname","Sweden","Switzerland","Syria","Taiwan","Tajikistan","Tanzania","Thailand","Timor-Leste","Togo","Trinidad and Tobago","Tunisia","Turkey","Turkmenistan","Uganda","Ukraine","United Arab Emirates","United Kingdom","United States","Uruguay","Uzbekistan","Vatican City","Venezuela","Vietnam","Yemen","Zambia","Zimbabwe"];function CountrySelect(e){let{value:a,onChange:t,id:i,className:s,required:o}=e;return(0,n.jsxs)("select",{id:i,value:a,onChange:t,className:s,required:o,children:[(0,n.jsx)("option",{value:"",children:"Select country..."}),r.map(e=>(0,n.jsx)("option",{value:e,children:e},e))]})}},9430:function(e,a,t){"use strict";t.d(a,{Z:function(){return Layout}});var n=t(5893),r=t(9008),i=t.n(r),s=t(1664),o=t.n(s),l=t(5675),c=t.n(l);t(1163);var d=t(7016);function Layout(e){let{children:a,title:t="Guestify"}=e,{user:r,signOut:s}=(0,d.a)();return(0,n.jsxs)("div",{className:"flex flex-col min-h-screen bg-gray-50 text-gray-800",children:[(0,n.jsxs)(i(),{children:[(0,n.jsx)("title",{children:t}),(0,n.jsx)("meta",{name:"description",content:"Guestify - Food service for Airbnb hosts"}),(0,n.jsx)("link",{rel:"icon",href:"/favicon.ico"})]}),(0,n.jsx)("header",{className:"bg-[#5e2bff] p-4 shadow-md rounded-b-xl",children:(0,n.jsxs)("div",{className:"max-w-6xl mx-auto flex justify-between items-center",children:[(0,n.jsx)("div",{className:"flex items-center",children:r?(0,n.jsx)(o(),{href:"/host/dashboard",children:(0,n.jsx)("span",{className:"cursor-pointer",children:(0,n.jsx)(c(),{src:"/images/guestify_logo.png",alt:"Guestify",width:40,height:40,className:"h-10 w-auto"})})}):(0,n.jsx)("span",{children:(0,n.jsx)(c(),{src:"/images/guestify_logo.png",alt:"Guestify",width:40,height:40,className:"h-10 w-auto"})})}),(0,n.jsx)("nav",{className:"flex items-center",children:r?(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(o(),{href:"/host/dashboard",children:(0,n.jsx)("span",{className:"mx-1 sm:mx-2 text-white font-semibold hover:opacity-80 transition-colors text-sm sm:text-base cursor-pointer",children:"Dashboard"})}),(0,n.jsx)("button",{onClick:s,className:"mx-1 sm:mx-2 text-white hover:opacity-80 transition-colors text-sm sm:text-base bg-transparent border-none cursor-pointer",children:"Logout"}),(0,n.jsx)(o(),{href:"/host/profile",children:(0,n.jsx)("span",{className:"ml-2 cursor-pointer",children:(0,n.jsx)("div",{className:"h-8 w-8 rounded-full bg-white text-[#5e2bff] flex items-center justify-center",children:(0,n.jsx)("i",{className:"fas fa-smile"})})})})]}):(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(o(),{href:"/auth/signin",children:(0,n.jsx)("span",{className:"mx-1 sm:mx-2 text-white hover:opacity-80 transition-colors text-sm sm:text-base cursor-pointer",children:"Login"})}),(0,n.jsx)(o(),{href:"/auth/signup",children:(0,n.jsx)("span",{className:"mx-1 sm:mx-2 text-white hover:opacity-80 transition-colors text-sm sm:text-base cursor-pointer",children:"Signup"})})]})})]})}),(0,n.jsx)("main",{className:"max-w-6xl mx-auto my-4 p-2 sm:p-4 rounded-xl flex-grow w-full",children:a}),(0,n.jsx)("footer",{className:"bg-[#5e2bff] p-4 rounded-t-xl",children:(0,n.jsx)("div",{className:"max-w-6xl mx-auto text-center text-white text-sm",children:(0,n.jsxs)("p",{children:["\xa9 ",new Date().getFullYear()," Guestify"]})})})]})}},9759:function(e,a,t){"use strict";t.r(a),t.d(a,{default:function(){return EditProperty}});var n=t(5893),r=t(7294),i=t(1163),s=t(1664),o=t.n(s),l=t(9430),c=t(4783),d=t(824);function EditProperty(){let[e,a]=(0,r.useState)({rental_name:"",address:"",city:"",state:"",zip:"",country:""}),[t,s]=(0,r.useState)(!0),[l,u]=(0,r.useState)(!1),[m,h]=(0,r.useState)(null),x=(0,i.useRouter)(),{propertyId:p}=x.query;(0,r.useEffect)(()=>{p&&fetchProperty();async function fetchProperty(){try{let{data:e,error:t}=await d.O.from("apartments").select("*").eq("id",p).single();if(t)throw t;a({rental_name:e.name||"",address:e.address||"",city:e.city||"",state:e.state||"",zip:e.zip||"",country:e.country||""})}catch(e){console.error("Error fetching property:",e),h("Could not load property data")}finally{s(!1)}}},[p]);let handleChange=e=>{let{name:t,value:n}=e.target;a(e=>({...e,[t]:n}))},handleSubmit=async a=>{a.preventDefault(),u(!0);try{let{error:a}=await d.O.from("apartments").update({name:e.rental_name,address:e.address,city:e.city,state:e.state,zip:e.zip,country:e.country}).eq("id",p);if(a)throw a;x.push("/host/dashboard")}catch(e){console.error("Error updating property:",e),h("Failed to update property"),u(!1)}};return t?(0,n.jsx)("div",{className:"text-center py-8",children:(0,n.jsx)("i",{className:"fas fa-spinner fa-spin text-2xl text-gray-500"})}):(0,n.jsxs)("div",{className:"max-w-md mx-auto bg-white p-6 rounded-md shadow mt-10",children:[(0,n.jsx)("h2",{className:"text-xl font-bold mb-4",children:"Edit Property"}),m&&(0,n.jsx)("div",{className:"bg-red-100 text-red-700 p-3 rounded mb-4",children:m}),(0,n.jsxs)("form",{onSubmit:handleSubmit,className:"space-y-4",children:[(0,n.jsxs)("div",{children:[(0,n.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Rental Name"}),(0,n.jsx)("input",{type:"text",name:"rental_name",value:e.rental_name,onChange:handleChange,className:"w-full border rounded px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500",required:!0})]}),(0,n.jsxs)("div",{children:[(0,n.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Address"}),(0,n.jsx)("input",{type:"text",name:"address",value:e.address,onChange:handleChange,className:"w-full border rounded px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500",required:!0})]}),(0,n.jsxs)("div",{children:[(0,n.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"City"}),(0,n.jsx)("input",{type:"text",name:"city",value:e.city,onChange:handleChange,className:"w-full border rounded px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),(0,n.jsxs)("div",{children:[(0,n.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"State"}),(0,n.jsx)("input",{type:"text",name:"state",value:e.state,onChange:handleChange,className:"w-full border rounded px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),(0,n.jsxs)("div",{children:[(0,n.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"ZIP Code"}),(0,n.jsx)("input",{type:"text",name:"zip",value:e.zip,onChange:handleChange,className:"w-full border rounded px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),(0,n.jsxs)("div",{children:[(0,n.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Country"}),(0,n.jsx)(c.O,{id:"country",name:"country",value:e.country,onChange:handleChange,className:"w-full border rounded px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500",required:!0})]}),(0,n.jsxs)("div",{className:"flex space-x-4",children:[(0,n.jsx)(o(),{href:"/host/dashboard",children:(0,n.jsx)("span",{className:"px-4 py-2 bg-gray-300 text-gray-700 rounded hover:bg-gray-400 transition cursor-pointer",children:"Cancel"})}),(0,n.jsx)("button",{type:"submit",disabled:l,className:"px-4 py-2 bg-[#fad02f] text-black rounded hover:opacity-90 transition font-semibold",children:l?"Saving...":"Save Changes"})]})]})]})}EditProperty.getLayout=function(e){return(0,n.jsx)(l.Z,{title:"Edit Property - Guestify",children:e})}}},function(e){e.O(0,[664,675,774,888,179],function(){return e(e.s=8983)}),_N_E=e.O()}]);